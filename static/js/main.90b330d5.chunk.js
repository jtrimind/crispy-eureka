(this["webpackJsonpcrispy-eureka"]=this["webpackJsonpcrispy-eureka"]||[]).push([[0],{20:function(t,e,n){t.exports=n(46)},25:function(t,e,n){},26:function(t,e,n){},27:function(t,e,n){},46:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),i=n(17),s=n.n(i),c=(n(25),n(2)),l=n(3),r=n(4),u=n(6),d=n(5),g=(n(26),n(27),function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(t){var o;return Object(c.a)(this,n),(o=e.call(this,t)).state={map:null},o.onLocationButton=o.onLocationButton.bind(Object(r.a)(o)),o}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=document.createElement("script");e.async=!0,e.src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=f5185fb09b4ee9df57bd6b168585bb8c&autoload=false",document.head.appendChild(e),e.onload=function(){console.log("script onload"),kakao.maps.load((function(){console.log("kakao maps load");var e=document.getElementById("map"),n={center:new kakao.maps.LatLng(37.506502,127.053617),level:7};t.setState({map:new window.kakao.maps.Map(e,n)}),kakao.maps.event.addListener(t.state.map,"dragend",(function(){var e=t.state.map.getCenter();t.props.onPositionChanged(e.getLat(),e.getLng())}))}))}}},{key:"onLocationButton",value:function(){var t=this;console.log("btn click"),"geolocation"in navigator?(console.log("Available"),navigator.geolocation.getCurrentPosition((function(e){var n=new kakao.maps.LatLng(e.coords.latitude,e.coords.longitude);console.log("lat:"+n.getLat()+" lng: "+n.getLng()),t.state.map.panTo(n),t.props.onPositionChanged(n.getLat(),n.getLng())}),(function(t){console.error("Error Code = "+t.code+" - "+t.message)}))):console.log("Not Available")}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("div",{className:"Map",id:"map"}),a.a.createElement("button",{onClick:this.onLocationButton},"Current Position"))}}]),n}(a.a.Component)),p=n(7),m=n.n(p),h=n(18),v=n(19),f=n.n(v),b=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(t){var o;return Object(c.a)(this,n),(o=e.call(this,t)).getList=Object(h.a)(m.a.mark((function t(){var e,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://congenial-spoon.web.app/pharmacy",t.next=3,f.a.get("https://congenial-spoon.web.app/pharmacy",{params:{WGS84_LAT:o.props.latlng[0],WGS84_LON:o.props.latlng[1]}});case 3:e=t.sent,console.log(e),console.log(e.status),200===e.status?(n=e.data.response.body.items.item,console.log(n),o.setState({list:n[0].dutyName})):o.setState({list:""});case 7:case"end":return t.stop()}}),t)}))),o.componentDidMount=function(){},o.state={},o}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(t){t.latlng!==this.props.latlng&&(console.log("update"),this.getList())}},{key:"render",value:function(){return a.a.createElement("div",null,this.state.list?this.state.list:"Loading")}}]),n}(a.a.Component),k=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(t){var o;return Object(c.a)(this,n),(o=e.call(this,t)).state={latlng:[0,0]},o.onPositionChanged=o.onPositionChanged.bind(Object(r.a)(o)),o}return Object(l.a)(n,[{key:"onPositionChanged",value:function(t,e){this.setState({latlng:[t,e]}),console.log("position changed",t,e)}},{key:"componentDidMount",value:function(){"geolocation"in navigator?(console.log("Available"),navigator.geolocation.getCurrentPosition((function(t){console.log("Latitude is :",t.coords.latitude),console.log("Longitude is :",t.coords.longitude)}),(function(t){console.error("Error Code = "+t.code+" - "+t.message)}))):console.log("Not Available")}},{key:"render",value:function(){return a.a.createElement("div",{className:"app"},a.a.createElement(g,{onPositionChanged:this.onPositionChanged}),a.a.createElement(b,{latlng:this.state.latlng}))}}]),n}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.90b330d5.chunk.js.map